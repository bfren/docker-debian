#!/bin/bash

set -euo pipefail
export BF_E=`basename ${0}`


#======================================================================================================================
# Remove pre-existing busybox executables, and replace with busybox.
#======================================================================================================================

X=`busybox --list`
IGNORE="cmp dpkg dpkg-deb"

for A in ${X} ; do

    # continue if the busybox executable is in the ignore list
    if printf "%s\0" ${IGNORE} | grep -Fxqz -- "${A}"; then
        continue
    fi

    # remove executable if it exists
    bf-echo "Removing ${A}..." && rm -f /bin/${A} /usr/bin/${A}

done

busybox --install


#======================================================================================================================
# Set timezone.
#======================================================================================================================

bf-tz "Europe/London"
